<div class="min-h-screen bg-slate-100 p-4">
  <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-4 items-start">

    <!-- Card 1: Form -->
    <section class="lg:col-span-7 bg-white rounded-xl shadow p-4 h-full">
      <h2 class="text-lg font-semibold mb-3">Reinstatement Guide</h2>
      <form [formGroup]="form" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <app-amount-input label="Past Due Today"        [formCtrl]="form.controls.pastDueToday"></app-amount-input>
        <app-amount-input label="Repossession Fees"     [formCtrl]="form.controls.repossessionFees"></app-amount-input>
        <app-amount-input label="NSF Fees"              [formCtrl]="form.controls.nsfFees"></app-amount-input>
        <app-amount-input label="Late Fees"             [formCtrl]="form.controls.lateFees"></app-amount-input>
        <app-amount-input label="Key Fees"              [formCtrl]="form.controls.keyFees"></app-amount-input>
        <app-amount-input label="Sales Taxes"           [formCtrl]="form.controls.salesTaxes"></app-amount-input>

        <app-amount-input label="Additional Fees" [formCtrl]="form.controls.additionalFees"></app-amount-input>

        <label class="flex items-end gap-3">
          <input type="checkbox" class="h-5 w-5 accent-indigo-600"
                 [formControl]="form.controls.includeAdditionalFees">
          <span class="text-sm">Include Additional Fees</span>
        </label>
      </form>
    </section>

    <!-- Card 2: Tabs + Totales -->
    <section class="lg:col-span-4 bg-white rounded-xl shadow p-4 h-full">
      <div class="flex items-center justify-between mb-3">
        <h2 class="font-semibold">Account Information</h2>
        <div class="flex gap-2">
          <button (click)="activeTab.set('loan')"
                  class="text-xs px-2 py-1 rounded"
                  [class.bg-indigo-600]="activeTab()==='loan'"
                  [class.text-white]="activeTab()==='loan'"
                  [class.bg-slate-200]="activeTab()!=='loan'">Loan</button>
          <button (click)="activeTab.set('customer')"
                  class="text-xs px-2 py-1 rounded"
                  [class.bg-indigo-600]="activeTab()==='customer'"
                  [class.text-white]="activeTab()==='customer'"
                  [class.bg-slate-200]="activeTab()!=='customer'">Customer</button>
        </div>
      </div>

      <ng-container *ngIf="activeTab()==='loan'; else customer">
        <app-account-info
          [totalDue]="totalDue()"
          [pastDue]="pastDue()"
          [totalFees]="totalFees()"
          [paymentAmount]="paymentAmount"
          [frequency]="frequency">
        </app-account-info>
      </ng-container>

      <ng-template #customer>
        <div class="text-sm text-slate-600">
          Customer info placeholder (para la prueba no es obligatorio).
        </div>
      </ng-template>
    </section>

    <!-- Card 3: Submit -->
    <aside class="lg:col-span-1 bg-white rounded-xl shadow p-4 h-full">
      <div class="sticky top-4 flex flex-col gap-2">
        <button (click)="submit()"
          class="w-full px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700">
          Submit
        </button>
        <div *ngIf="showSuccess()" class="rounded-md bg-green-100 text-green-800 px-3 py-2 text-sm">
          Success
        </div>
      </div>
    </aside>

  </div>
</div>
